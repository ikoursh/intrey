{"version":3,"sources":["node_modules/pushid/index.js","../../src/errors/CodedError.ts","node_modules/@babel/runtime/helpers/wrapNativeSuper.js","node_modules/@babel/runtime/helpers/isNativeFunction.js","node_modules/@babel/runtime/helpers/construct.js","node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","../src/PermissionsInterface.ts","node_modules/expo-image-picker/node_modules/uuid/dist/esm-browser/rng.js","node_modules/expo-image-picker/node_modules/uuid/dist/esm-browser/bytesToUuid.js","node_modules/expo-image-picker/node_modules/uuid/dist/esm-browser/v4.js","../src/ImagePicker.types.ts","../src/ExponentImagePicker.web.ts","../src/ImagePicker.ts","src/Screens/Explore.tsx","../../src/environment/browser.web.ts","../src/Platform.ts","../../src/errors/UnavailabilityError.ts"],"names":["PUSH_CHARS","lastPushTime","lastRandChars","module","exports","now","Date","getTime","duplicateTime","timeStampChars","Array","i","charAt","Math","floor","Error","id","join","random","length","CodedError","code","message","getPrototypeOf","setPrototypeOf","isNativeFunction","construct","_wrapNativeSuper","Class","_cache","Map","undefined","TypeError","has","get","set","Wrapper","arguments","this","constructor","prototype","Object","create","value","enumerable","writable","configurable","fn","Function","toString","call","indexOf","isNativeReflectConstruct","_construct","Parent","args","Reflect","a","push","apply","instance","bind","sham","Proxy","e","PermissionStatus","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","rng","byteToHex","substr","bytesToUuid","buf","offset","bth","v4","MediaTypeOptions","VideoExportPreset","UIImagePickerControllerQualityType","options","rnds","ii","MediaTypeInput","All","Images","Videos","launchImageLibraryAsync","mediaTypes","allowsMultipleSelection","openFileBrowserAsync","launchCameraAsync","capture","getCameraPermissionsAsync","permissionGrantedResponse","requestCameraPermissionsAsync","getMediaLibraryPermissionsAsync","_writeOnly","requestMediaLibraryPermissionsAsync","status","GRANTED","expires","granted","canAskAgain","mediaTypeFormat","input","document","createElement","style","display","setAttribute","body","appendChild","Promise","resolve","reject","addEventListener","async","files","readFile","img","cancelled","all","from","map","imgs","selected","removeChild","event","MouseEvent","dispatchEvent","targetFile","reader","FileReader","onerror","onload","target","uri","result","returnRaw","width","height","image","Image","src","naturalWidth","naturalHeight","readAsDataURL","UnavailabilityError","styles","Explore","useStyleSheet","StyleService","newChat","position","right","bottom","myChats","flex","myChatsLoading","justifyContent","alignItems","item","marginVertical","itemHeader","minHeight","padding","itemHeaderDetails","flexDirection","itemStyxContainer","borderRadius","marginHorizontal","itemStyxText","itemStyxButton","paddingHorizontal","paddingVertical","itemDescription","marginTop","itemFooter","itemReactionsContainer","itemAddButton","iconButton","navigationOptions","header","navigation","title","alignment","accessoryLeft","onPress","goBack","icon","props","name","navigationOptionsMaster","Stack","createStackNavigator","KeyboardAvoidingView","behavior","Platform","OS","Navigator","Screen","component","Categories","Category","NewPost","route","useState","maxBias","setMaxBias","minBias","setMinBias","AsyncStorage","getItem","then","r","parseInt","category","params","c","posts","setPosts","useEffect","db","collection","doc","auth","currentUser","uid","data","bias","console","log","where","docs","d","content","storage","ref","getDownloadURL","catch","round","level","ItemSeparatorComponent","Divider","renderItem","footer","renderItemFooter","size","source","resizeMode","navigate","View","pushid","require","setTitle","setImage","imgPath","setImgPath","setContent","dissabled","setDisabled","label","onChangeText","multiline","numberOfLines","ImagePicker","allowsEditing","quality","base64","path","child","putString","disabled","fetch","baseApiUrl","Accept","JSON","getIdToken","token","stringify","method","headers","processCategory","description","categories","setCategories","t","isDOMAvailable","window","select","moduleName","propertyName"],"mappings":"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","file":"static/js/5.af20ae2f.chunk.js","sourcesContent":["// Original code from : https://gist.github.com/mikelehen/3596a30bd69384624c11\n\n/**\n * Fancy ID generator that creates 20-character string identifiers with the following properties:\n *\n * 1. They're based on timestamp so that they sort *after* any existing ids.\n * 2. They contain 72-bits of random data after the timestamp so that IDs won't collide with other clients' IDs.\n * 3. They sort *lexicographically* (so the timestamp is converted to characters that will sort properly).\n * 4. They're monotonically increasing.  Even if you generate more than one in the same timestamp, the\n *    latter ones will sort after the former ones.  We do this by using the previous random bits\n *    but \"incrementing\" them by 1 (only in the case of a timestamp collision).\n */\n\n// Modeled after base64 web-safe chars, but ordered by ASCII.\nvar PUSH_CHARS = '-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz';\n\n// Timestamp of last push, used to prevent local collisions if you push twice in one ms.\nvar lastPushTime = 0;\n\n// We generate 72-bits of randomness which get turned into 12 characters and appended to the\n// timestamp to prevent collisions with other clients.  We store the last characters we\n// generated because in the event of a collision, we'll use those same characters except\n// \"incremented\" by one.\nvar lastRandChars = [];\n\nmodule.exports = function pushid() {\n  var now = new Date().getTime();\n  var duplicateTime = (now === lastPushTime);\n  lastPushTime = now;\n\n  var timeStampChars = new Array(8);\n  for (var i = 7; i >= 0; i--) {\n    timeStampChars[i] = PUSH_CHARS.charAt(now % 64);\n    // NOTE: Can't use << here because javascript will convert to int and lose the upper bits.\n    now = Math.floor(now / 64);\n  }\n\n  if (now !== 0) {\n    throw new Error('We should have converted the entire timestamp.');\n  }\n\n  var id = timeStampChars.join('');\n\n  if ( duplicateTime ) {\n    // If the timestamp hasn't changed since last push, use the same random number, except incremented by 1.\n    for (i = 11; i >= 0 && lastRandChars[i] === 63; i--) {\n      lastRandChars[i] = 0;\n    }\n    lastRandChars[i]++;\n  }\n  else {\n    for (i = 0; i < 12; i++) {\n      lastRandChars[i] = Math.floor(Math.random() * 64);\n    }\n  }\n\n  for (i = 0; i < 12; i++) {\n    id += PUSH_CHARS.charAt(lastRandChars[i]);\n  }\n\n  if ( id.length != 20 ) {\n    throw new Error('Length should be 20.');\n  }\n\n  return id;\n};\n","/**\n * A general error class that should be used for all errors in Expo modules.\n * Guarantees a `code` field that can be used to differentiate between different\n * types of errors without further subclassing Error.\n */\nexport class CodedError extends Error {\n  code: string;\n  info?: any;\n\n  constructor(code: string, message: string) {\n    super(message);\n    this.code = code;\n  }\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","export enum PermissionStatus {\n  GRANTED = 'granted',\n  UNDETERMINED = 'undetermined',\n  DENIED = 'denied',\n}\n\nexport type PermissionExpiration = 'never' | number;\n\nexport interface PermissionResponse {\n  status: PermissionStatus;\n  expires: PermissionExpiration;\n  granted: boolean;\n  canAskAgain: boolean;\n}\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","import { PermissionResponse } from 'unimodules-permissions-interface';\n\nexport { PermissionResponse as CameraPermissionResponse };\n\nexport type MediaLibraryPermissionResponse = PermissionResponse & {\n  // iOS only\n  accessPrivileges?: 'all' | 'limited' | 'none';\n};\n\n/**\n * @deprecated Use `ImagePicker.MediaLibraryPermissionResponse`\n */\nexport type CameraRollPermissionResponse = MediaLibraryPermissionResponse;\n\nexport enum MediaTypeOptions {\n  All = 'All',\n  Videos = 'Videos',\n  Images = 'Images',\n}\n\nexport enum VideoExportPreset {\n  Passthrough = 0,\n  LowQuality = 1,\n  MediumQuality = 2,\n  HighestQuality = 3,\n  H264_640x480 = 4,\n  H264_960x540 = 5,\n  H264_1280x720 = 6,\n  H264_1920x1080 = 7,\n  H264_3840x2160 = 8,\n  HEVC_1920x1080 = 9,\n  HEVC_3840x2160 = 10,\n}\n\nexport enum UIImagePickerControllerQualityType {\n  High = 0,\n  Medium = 1,\n  Low = 2,\n  VGA640x480 = 3,\n  IFrame1280x720 = 4,\n  IFrame960x540 = 5,\n}\n\nexport type ImageInfo = {\n  uri: string;\n  width: number;\n  height: number;\n  type?: 'image' | 'video';\n  exif?: { [key: string]: any };\n  base64?: string;\n};\n\nexport type ImagePickerErrorResult = {\n  code: string;\n  message: string;\n  exception?: string;\n};\n\nexport type ImagePickerResult = { cancelled: true } | ({ cancelled: false } & ImageInfo);\n\nexport type ImagePickerMultipleResult =\n  | { cancelled: true }\n  | { cancelled: false; selected: ImageInfo[] };\n\nexport type ImagePickerOptions = {\n  allowsEditing?: boolean;\n  aspect?: [number, number];\n  quality?: number;\n  mediaTypes?: MediaTypeOptions;\n  exif?: boolean;\n  base64?: boolean;\n  /**\n   * @deprecated see [iOS videoExportPreset](https://developer.apple.com/documentation/uikit/uiimagepickercontroller/2890964-videoexportpreset?language=objc)\n   */\n  videoExportPreset?: VideoExportPreset;\n  videoQuality?: UIImagePickerControllerQualityType;\n  allowsMultipleSelection?: boolean;\n  videoMaxDuration?: number;\n};\n\nexport type OpenFileBrowserOptions = {\n  mediaTypes: MediaTypeOptions;\n  capture?: boolean;\n  allowsMultipleSelection: boolean;\n};\n\nexport type ExpandImagePickerResult<\n  T extends ImagePickerOptions | OpenFileBrowserOptions\n> = T extends {\n  allowsMultipleSelection: true;\n}\n  ? ImagePickerMultipleResult\n  : ImagePickerResult;\n","import { PermissionResponse, PermissionStatus } from 'unimodules-permissions-interface';\nimport { v4 } from 'uuid';\n\nimport {\n  ImagePickerResult,\n  MediaTypeOptions,\n  OpenFileBrowserOptions,\n  ImagePickerMultipleResult,\n  ImageInfo,\n  ExpandImagePickerResult,\n} from './ImagePicker.types';\n\nconst MediaTypeInput = {\n  [MediaTypeOptions.All]: 'video/mp4,video/quicktime,video/x-m4v,video/*,image/*',\n  [MediaTypeOptions.Images]: 'image/*',\n  [MediaTypeOptions.Videos]: 'video/mp4,video/quicktime,video/x-m4v,video/*',\n};\n\nexport default {\n  get name(): string {\n    return 'ExponentImagePicker';\n  },\n\n  async launchImageLibraryAsync({\n    mediaTypes = MediaTypeOptions.Images,\n    allowsMultipleSelection = false,\n  }): Promise<ImagePickerResult | ImagePickerMultipleResult> {\n    return await openFileBrowserAsync({\n      mediaTypes,\n      allowsMultipleSelection,\n    });\n  },\n\n  async launchCameraAsync({\n    mediaTypes = MediaTypeOptions.Images,\n    allowsMultipleSelection = false,\n  }): Promise<ImagePickerResult | ImagePickerMultipleResult> {\n    return await openFileBrowserAsync({\n      mediaTypes,\n      allowsMultipleSelection,\n      capture: true,\n    });\n  },\n\n  /*\n   * Delegate to expo-permissions to request camera permissions\n   */\n  async getCameraPermissionsAsync() {\n    return permissionGrantedResponse();\n  },\n  async requestCameraPermissionsAsync() {\n    return permissionGrantedResponse();\n  },\n\n  /*\n   * Camera roll permissions don't need to be requested on web, so we always\n   * respond with granted.\n   */\n  async getMediaLibraryPermissionsAsync(_writeOnly: boolean) {\n    return permissionGrantedResponse();\n  },\n  async requestMediaLibraryPermissionsAsync(_writeOnly: boolean): Promise<PermissionResponse> {\n    return permissionGrantedResponse();\n  },\n};\n\nfunction permissionGrantedResponse(): PermissionResponse {\n  return {\n    status: PermissionStatus.GRANTED,\n    expires: 'never',\n    granted: true,\n    canAskAgain: true,\n  };\n}\n\nfunction openFileBrowserAsync<T extends OpenFileBrowserOptions>({\n  mediaTypes,\n  capture = false,\n  allowsMultipleSelection = false,\n}: T): Promise<ExpandImagePickerResult<T>> {\n  const mediaTypeFormat = MediaTypeInput[mediaTypes];\n\n  const input = document.createElement('input');\n  input.style.display = 'none';\n  input.setAttribute('type', 'file');\n  input.setAttribute('accept', mediaTypeFormat);\n  input.setAttribute('id', v4());\n  if (allowsMultipleSelection) {\n    input.setAttribute('multiple', 'multiple');\n  }\n  if (capture) {\n    input.setAttribute('capture', 'camera');\n  }\n  document.body.appendChild(input);\n\n  return new Promise((resolve, reject) => {\n    input.addEventListener('change', async () => {\n      if (input.files) {\n        if (!allowsMultipleSelection) {\n          const img: ImageInfo = await readFile(input.files[0]);\n          resolve({\n            cancelled: false,\n            ...img,\n          } as ExpandImagePickerResult<T>);\n        } else {\n          const imgs: ImageInfo[] = await Promise.all(Array.from(input.files).map(readFile));\n          resolve({\n            cancelled: false,\n            selected: imgs,\n          } as ExpandImagePickerResult<T>);\n        }\n      } else {\n        resolve({ cancelled: true } as ExpandImagePickerResult<T>);\n      }\n      document.body.removeChild(input);\n    });\n\n    const event = new MouseEvent('click');\n    input.dispatchEvent(event);\n  });\n}\n\nfunction readFile(targetFile: Blob): Promise<ImageInfo> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onerror = () => {\n      reject(new Error(`Failed to read the selected media because the operation failed.`));\n    };\n    reader.onload = ({ target }) => {\n      const uri = (target as any).result;\n      const returnRaw = () =>\n        resolve({\n          uri,\n          width: 0,\n          height: 0,\n        });\n\n      if (typeof target?.result === 'string') {\n        const image = new Image();\n        image.src = target.result;\n        image.onload = () =>\n          resolve({\n            uri,\n            width: image.naturalWidth ?? image.width,\n            height: image.naturalHeight ?? image.height,\n          });\n        image.onerror = () => returnRaw();\n      } else {\n        returnRaw();\n      }\n    };\n\n    reader.readAsDataURL(targetFile);\n  });\n}\n","import { UnavailabilityError, CodedError } from '@unimodules/core';\nimport { PermissionStatus, PermissionExpiration } from 'unimodules-permissions-interface';\n\nimport ExponentImagePicker from './ExponentImagePicker';\nimport {\n  CameraPermissionResponse,\n  CameraRollPermissionResponse,\n  MediaLibraryPermissionResponse,\n  ImagePickerResult,\n  ImagePickerErrorResult,\n  MediaTypeOptions,\n  ImagePickerOptions,\n  VideoExportPreset,\n  ExpandImagePickerResult,\n} from './ImagePicker.types';\n\nfunction validateOptions(options: ImagePickerOptions) {\n  const { aspect, quality, videoMaxDuration } = options;\n\n  if (aspect != null) {\n    const [x, y] = aspect;\n\n    if (x <= 0 || y <= 0) {\n      throw new CodedError(\n        'ERR_INVALID_ARGUMENT',\n        `Invalid aspect ratio values ${x}:${y}. Provide positive numbers.`\n      );\n    }\n  }\n\n  if (quality && (quality < 0 || quality > 1)) {\n    throw new CodedError(\n      'ERR_INVALID_ARGUMENT',\n      `Invalid 'quality' value ${quality}. Provide a value between 0 and 1.`\n    );\n  }\n\n  if (videoMaxDuration && videoMaxDuration < 0) {\n    throw new CodedError(\n      'ERR_INVALID_ARGUMENT',\n      `Invalid 'videoMaxDuration' value ${videoMaxDuration}. Provide a non-negative number.`\n    );\n  }\n\n  return options;\n}\n\nexport async function getCameraPermissionsAsync(): Promise<CameraPermissionResponse> {\n  return ExponentImagePicker.getCameraPermissionsAsync();\n}\n\n/**\n * @deprecated in favor of getMediaLibraryPermissionsAsync()\n */\nexport async function getCameraRollPermissionsAsync(): Promise<MediaLibraryPermissionResponse> {\n  console.warn(\n    'ImagePicker.getCameraRollPermissionsAsync() is deprecated in favour of ImagePicker.getMediaLibraryPermissionsAsync()'\n  );\n  return getMediaLibraryPermissionsAsync();\n}\n\nexport async function getMediaLibraryPermissionsAsync(\n  writeOnly: boolean = false\n): Promise<MediaLibraryPermissionResponse> {\n  // due to a typo in iOS, we need to check on the typo too\n  // todo: remove this workaround for SDK 41\n  const imagePickerMethod =\n    typeof ExponentImagePicker.getMediaLibaryPermissionsAsync === 'function'\n      ? ExponentImagePicker.getMediaLibaryPermissionsAsync\n      : ExponentImagePicker.getMediaLibraryPermissionsAsync;\n\n  return imagePickerMethod(writeOnly);\n}\n\nexport async function requestCameraPermissionsAsync(): Promise<CameraPermissionResponse> {\n  return ExponentImagePicker.requestCameraPermissionsAsync();\n}\n\n/**\n * @deprecated in favor of requestMediaLibraryPermissionsAsync()\n */\nexport async function requestCameraRollPermissionsAsync(): Promise<MediaLibraryPermissionResponse> {\n  console.warn(\n    'ImagePicker.requestCameraRollPermissionsAsync() is deprecated in favour of ImagePicker.requestMediaLibraryPermissionsAsync()'\n  );\n  return requestMediaLibraryPermissionsAsync();\n}\n\nexport async function requestMediaLibraryPermissionsAsync(\n  writeOnly: boolean = false\n): Promise<MediaLibraryPermissionResponse> {\n  // due to a typo in iOS, we need to check on the typo too\n  // todo: remove this workaround for SDK 41\n  const imagePickerMethod =\n    typeof ExponentImagePicker.requestMediaLibaryPermissionsAsync === 'function'\n      ? ExponentImagePicker.requestMediaLibaryPermissionsAsync\n      : ExponentImagePicker.requestMediaLibraryPermissionsAsync;\n\n  return imagePickerMethod(writeOnly);\n}\n\nexport async function getPendingResultAsync(): Promise<\n  (ImagePickerResult | ImagePickerErrorResult)[]\n> {\n  if (ExponentImagePicker.getPendingResultAsync) {\n    return ExponentImagePicker.getPendingResultAsync();\n  }\n  return [];\n}\n\nexport async function launchCameraAsync(\n  options: ImagePickerOptions = {}\n): Promise<ImagePickerResult> {\n  if (!ExponentImagePicker.launchCameraAsync) {\n    throw new UnavailabilityError('ImagePicker', 'launchCameraAsync');\n  }\n  return await ExponentImagePicker.launchCameraAsync(validateOptions(options));\n}\n\nexport async function launchImageLibraryAsync<T extends ImagePickerOptions>(\n  options?: T\n): Promise<ExpandImagePickerResult<T>> {\n  if (!ExponentImagePicker.launchImageLibraryAsync) {\n    throw new UnavailabilityError('ImagePicker', 'launchImageLibraryAsync');\n  }\n  return await ExponentImagePicker.launchImageLibraryAsync(options ?? {});\n}\n\nexport {\n  MediaTypeOptions,\n  ImagePickerOptions,\n  ImagePickerResult,\n  ImagePickerErrorResult,\n  VideoExportPreset,\n  CameraPermissionResponse,\n  CameraRollPermissionResponse,\n  MediaLibraryPermissionResponse,\n  PermissionStatus,\n  PermissionExpiration,\n};\n","import React, {useEffect, useState} from 'react';\r\nimport {\r\n    Button,\r\n    Card,\r\n    Divider,\r\n    Icon,\r\n    Input,\r\n    Layout,\r\n    List,\r\n    ListItem,\r\n    Spinner,\r\n    Styles,\r\n    StyleService,\r\n    Text,\r\n    TopNavigation,\r\n    TopNavigationAction,\r\n    useStyleSheet\r\n} from \"@ui-kitten/components\";\r\nimport {createStackNavigator} from \"@react-navigation/stack\";\r\nimport {Image, KeyboardAvoidingView, Platform, View} from \"react-native\";\r\nimport {auth, firestore as db, storage} from \"../Components/TabView\";\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport {baseApiUrl} from \"../firebase\";\r\nimport AsyncStorage from \"@react-native-community/async-storage\"\r\n\r\ntype UploadTaskSnapshot = firebase.storage.UploadTaskSnapshot;\r\ntype QuerySnapshot = firebase.firestore.QuerySnapshot;\r\ntype DocumentData = firebase.firestore.DocumentData;\r\n\r\nlet styles: Styles<any>;\r\n\r\n\r\n\r\nexport default function Explore() {\r\n    styles = useStyleSheet(StyleService.create({\r\n        newChat: {\r\n            position: \"absolute\",\r\n            right: \"3%\",\r\n            bottom: \"3%\",\r\n        },\r\n\r\n        myChats: {\r\n            flex: 1\r\n        },\r\n\r\n        myChatsLoading: {\r\n            flex: 1,\r\n            justifyContent: 'center', alignItems: 'center'\r\n        },\r\n        item: {\r\n            marginVertical: 8,\r\n        },\r\n        itemHeader: {\r\n            minHeight: 220,\r\n            padding: 24,\r\n        },\r\n        itemHeaderDetails: {\r\n            justifyContent: 'space-between',\r\n            flexDirection: 'row',\r\n            alignItems: 'center',\r\n        },\r\n        itemStyxContainer: {\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            alignItems: 'center',\r\n            borderRadius: 4,\r\n            marginHorizontal: -8,\r\n        },\r\n        itemStyxText: {\r\n            marginHorizontal: 16,\r\n            marginVertical: 14,\r\n        },\r\n        itemStyxButton: {\r\n            paddingHorizontal: 0,\r\n            paddingVertical: 0,\r\n            borderRadius: 24,\r\n        },\r\n        itemDescription: {\r\n            marginHorizontal: -8,\r\n            marginTop: 16,\r\n        },\r\n        itemFooter: {\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n        },\r\n        itemReactionsContainer: {\r\n            flexDirection: 'row',\r\n        },\r\n        itemAddButton: {\r\n            flexDirection: 'row-reverse',\r\n            paddingHorizontal: 0,\r\n        },\r\n        iconButton: {\r\n            paddingHorizontal: 0,\r\n        },\r\n    }));\r\n\r\n    const navigationOptions = {\r\n        header: ({navigation}: any) => {\r\n            return <><TopNavigation title={\"Explore\"} alignment={\"center\"}\r\n                                    accessoryLeft={() => <TopNavigationAction onPress={navigation.goBack}\r\n                                                                              icon={(props: any) => <Icon {...props}\r\n                                                                                                          name={\"arrow-back\"}/>}/>}/>\r\n                <Divider/></>\r\n        }\r\n    }\r\n    const navigationOptionsMaster = {\r\n        header: () => <TopNavigation alignment={\"center\"} title={\"Explore\"}/>\r\n    }\r\n\r\n    const Stack = createStackNavigator();\r\n    return (\r\n        <KeyboardAvoidingView behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"} style={{height: \"100%\"}}>\r\n\r\n            <Stack.Navigator>\r\n                <Stack.Screen name={\"Categories\"} component={Categories} options={navigationOptionsMaster}/>\r\n                <Stack.Screen name={\"Category\"} component={Category} options={navigationOptions}/>\r\n                <Stack.Screen name={\"New Post\"} component={NewPost} options={navigationOptions}/>\r\n\r\n\r\n            </Stack.Navigator>\r\n        </KeyboardAvoidingView>\r\n    )\r\n}\r\n\r\nfunction Category({route, navigation}: any) {\r\n\r\n    const [maxBias, setMaxBias] = useState(5)\r\n    const [minBias, setMinBias] = useState(5)\r\n    AsyncStorage.getItem(\"maxBias\").then((r)=>setMaxBias(r?parseInt(r):5));\r\n    AsyncStorage.getItem(\"minBias\").then((r)=>setMinBias(r?parseInt(r):5));\r\n\r\n    const category: Category = route.params.c;\r\n    const [posts, setPosts] = useState<PostInterface[] | null>(null);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (posts == null) {\r\n                const bias = (await db.collection(\"Users\").doc(auth.currentUser?.uid).get()).data()?.bias ?? 0;\r\n                console.log(`getting posts in range ${bias - minBias}<x<${bias + maxBias}`);\r\n                setPosts(await Promise.all((await db.collection(\"PostCategories\").doc(category.id).collection(\"Posts\")\r\n                    .where(\"bias\", \"<\", bias + maxBias).where(\"bias\", \">\", bias - minBias).get()).docs.map(async (d: any) => {\r\n                        d = d.data();\r\n                        console.log(d.img)\r\n                        return {\r\n                            title: d.title,\r\n                            content: d.content,\r\n                            uid: d.uid,\r\n                            img: !d.img || d.img == \"null\" ? null : await storage.ref(`images/${d.img}.jpeg`).getDownloadURL().catch(() => null) ?? null,\r\n                            bias: Math.round(d.bias),\r\n                        }\r\n                    }\r\n                )));\r\n            }\r\n        })()\r\n    });\r\n\r\n    return (\r\n        <Layout level={\"2\"} style={posts == null ? styles.myChatsLoading : styles.myChats}>\r\n\r\n            {posts == null ? <Spinner/> :\r\n                <List data={posts} ItemSeparatorComponent={Divider} renderItem={({item}: { item: PostInterface }) => {\r\n                    console.log(item)\r\n                    return (\r\n\r\n                        <Card\r\n                            style={{marginVertical: 8}}\r\n                            footer={renderItemFooter}>\r\n                            <Layout\r\n                                style={styles.itemStyxContainer}\r\n                                level='2'>\r\n                                <Text\r\n                                    style={styles.itemStyxText}\r\n                                    category='h6'>\r\n                                    {item.title}\r\n                                </Text>\r\n                                <Button\r\n                                    style={styles.itemStyxButton}\r\n                                    size='tiny'>\r\n                                    {`User bias score: ${item.bias}`}\r\n                                </Button>\r\n                            </Layout>\r\n                            {item.img ? <Image source={item.img} style={{width: \"100%\", height: 500}}\r\n                                               resizeMode=\"contain\"/> : <></>}\r\n\r\n                            <Text\r\n                                style={styles.itemDescription}\r\n                                category='s1'>\r\n                                {item.content}\r\n                            </Text>\r\n                        </Card>)\r\n                }}/>}\r\n\r\n            <Button size={\"large\"} accessoryLeft={(props: any) => (\r\n                <Icon {...props} name='plus-outline'/>\r\n            )} style={styles.newChat} onPress={() => {\r\n                navigation.navigate(\"New Post\", {\"c\": category})\r\n            }}/>\r\n        </Layout>\r\n    )\r\n}\r\n\r\n\r\nconst renderItemFooter = (): React.ReactElement => (\r\n    <View style={styles.itemFooter}>\r\n        <View style={styles.itemReactionsContainer}>\r\n            {/*    <Button*/}\r\n            {/*        style={styles.iconButton}*/}\r\n            {/*        appearance='ghost'*/}\r\n            {/*        status='basic'*/}\r\n            {/*        accessoryLeft={() => <Icon name='share-outline'/>}*/}\r\n            {/*    />*/}\r\n            {/*    <Button*/}\r\n            {/*        style={styles.iconButton}*/}\r\n            {/*        appearance='ghost'*/}\r\n            {/*        status='basic'*/}\r\n            {/*        accessoryLeft={() => <Icon name='heart-outline'/>}*/}\r\n            {/*    />*/}\r\n        </View>\r\n    </View>\r\n);\r\n\r\n\r\nconst pushid = require('pushid')\r\n\r\nfunction NewPost({route, navigation}: any) {\r\n    const category: Category = route.params.c;\r\n    const [title, setTitle] = useState(\"\");\r\n    const [image, setImage] = useState<string | null>(null);\r\n    const [imgPath, setImgPath] = useState<string | null>(null);\r\n    const [content, setContent] = useState(\"\");\r\n    const [dissabled, setDisabled] = useState(false);\r\n    // @ts-ignore\r\n    return (<Layout level={\"3\"} style={styles.myChatsLoading}>\r\n        <Card style={{width: \"95%\"}}>\r\n            <Input label={\"Title\"} value={title} onChangeText={setTitle}/>\r\n            <Input label={\"Content\"} value={content} onChangeText={setContent} multiline={true} numberOfLines={5}/>\r\n            <Button onPress={async () => {\r\n                setDisabled(true)\r\n                let result = await ImagePicker.launchImageLibraryAsync({\r\n                    mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n                    allowsEditing: true,\r\n                    quality: 1,\r\n                    base64: true\r\n                });\r\n\r\n                console.log(result);\r\n\r\n                if (!result.cancelled) {\r\n                    setImage(result.uri);\r\n                    let path = pushid();\r\n                    storage.ref().child(`/images/${path}.jpeg`).putString(result.uri, 'data_url').then((r: UploadTaskSnapshot) => {\r\n                        setDisabled(false);\r\n                        setImgPath(path)\r\n                        console.log(\"upload complete\", r)\r\n                    });\r\n                } else {\r\n                    setDisabled(false)\r\n                }\r\n\r\n            }\r\n            }>Attach Image</Button>\r\n            {image == null ? <></> : <><Image source={{uri: image}} style={{width: 200, height: 200}}/></>}\r\n            <Button disabled={dissabled} onPress={async () => {\r\n                setDisabled(true);\r\n                fetch(baseApiUrl + `/${category.id}/addPost`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        Accept: 'application/json',\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify({\r\n                        title: title,\r\n                        content: content,\r\n                        token: await auth.currentUser?.getIdToken(),\r\n                        img: imgPath ?? \"null\"\r\n                    })\r\n                });\r\n                navigation.navigate(\"Category\", {c: category})\r\n            }}>Post</Button>\r\n        </Card>\r\n    </Layout>)\r\n\r\n}\r\n\r\nfunction processCategory(d: any): Category {\r\n    return {\r\n        description: d.data().description,\r\n        title: d.data().title,\r\n        id: d.id\r\n    }\r\n}\r\n\r\nfunction Categories({navigation}: any) {\r\n    // setTitle(\"Categories\");\r\n    const [categories, setCategories] = useState<Category[] | null>(null);\r\n    useEffect(() => {\r\n        if (categories == null) {\r\n            db.collection(\"PostCategories\").get().then(async (data: QuerySnapshot<DocumentData>) => {\r\n                let t = (await Promise.all(data.docs.map(processCategory)));\r\n                console.log(t)\r\n                setCategories(t);\r\n            })\r\n        }\r\n    })\r\n\r\n    return (<Layout level={\"2\"} style={categories == null ? styles.myChatsLoading : styles.myChats}>\r\n\r\n        {\r\n            categories == null ? <Spinner/> :\r\n                <>\r\n                    <Divider/>\r\n                    <List data={categories}\r\n\r\n                          renderItem={({item}: { item: Category }) => (\r\n                              <ListItem title={item.title} description={item.description} onPress={() => {\r\n                                  navigation.navigate(\"Category\", {c: item}); //navigate to chat and pass the chat item as a prop\r\n                              }}/>)} ItemSeparatorComponent={Divider}/></>}\r\n\r\n\r\n    </Layout>)\r\n}\r\n\r\n\r\ninterface Category {\r\n    title: string,\r\n    description: string,\r\n    id: string\r\n}\r\n\r\ninterface PostInterface {\r\n    title: string,\r\n    content: string,\r\n    uid: string,\r\n    img: any,\r\n    bias: number\r\n}\r\n","// Used for delegating node actions when browser APIs aren't available\n// like in SSR websites.\nexport const isDOMAvailable = typeof window !== 'undefined' && !!window.document?.createElement;\n","import { Platform as ReactNativePlatform, PlatformOSType } from 'react-native';\n\nimport { isDOMAvailable } from './environment/browser';\n\nexport type PlatformSelectOSType = PlatformOSType | 'native' | 'electron' | 'default';\n\nexport type PlatformSelect = <T>(specifics: { [platform in PlatformSelectOSType]?: T }) => T;\n\nconst Platform = {\n  /**\n   * Denotes the currently running platform.\n   * Can be one of ios, android, web.\n   */\n  OS: ReactNativePlatform.OS,\n  /**\n   * Returns the value with the matching platform.\n   * Object keys can be any of ios, android, native, web, default.\n   *\n   * @ios ios, native, default\n   * @android android, native, default\n   * @web web, default\n   */\n  select: ReactNativePlatform.select as PlatformSelect,\n  /**\n   * Denotes if the DOM API is available in the current environment.\n   * The DOM is not available in native React runtimes and Node.js.\n   */\n  isDOMAvailable,\n};\n\nexport default Platform;\n","import Platform from '../Platform';\nimport { CodedError } from './CodedError';\n\n/**\n * A class for errors to be thrown when a property is accessed which is\n * unavailable, unsupported, or not currently implemented on the running\n * platform.\n */\nexport class UnavailabilityError extends CodedError {\n  constructor(moduleName: string, propertyName: string) {\n    super(\n      'ERR_UNAVAILABLE',\n      `The method or property ${moduleName}.${propertyName} is not available on ${Platform.OS}, are you sure you've linked all the native dependencies properly?`\n    );\n  }\n}\n"],"sourceRoot":""}